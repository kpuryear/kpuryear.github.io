---
layout: post
title: Project 2 - Linear Regression and Cross Validation
---

For this project, I created a model to predict how many total albums an artist will sell across the globe! For weeks 2 and 3, we focused on predicting numerical data with Linear Regression Models. As a fun choice, I decided to look at the top grossing contemporary musicians of all time. 

### Data Aquisition and Data Cleaning
I aquired my musician data from Wikipedia's article "List of best-selling music artists", last updated in Feb 2018.

LINK TO THE PAGE

This page had convenient tables located throughout the article, and it was relatively simple to parse through the HTML to separate out the tables. I used Beautiful Soup to scrape the data directly from HTML into a Pandas dataframe.


PHOTO of Wikipedia
PHOTO of first pandas dataframe 
  
  
Once the data was entered into Pandas dataframes, the real cleaning began. There were 5 discrete tables from the webpage, so I concatenated them all together and renumbered the indeces. From there, I devised a regex formula to remove the numbered references that seemed to trail every datapoint. In the webpage they had been actual working links, but to me they were junk. The data was already looking so much cleaner! 


The regex formula I used: (shown here acting on the "Artist" column)

```
killbrackets = re.compile(r' \[[0-9b]+\]')
df["Artist"] = [killbrackets.sub("", i) for i in df["Artist"]]
```


Then, I transformed the "Period Active" column into "Years Active", for example: instead of 1960-1970, it was just 10. For some rows, the data response listed a starting year then said "to present", which I replaced with 2018 and proceeded with my subtraction. 


From there, the real cleaning began. Inside the "Total Certified Units" column was a huge amount of bundled data about the certified sales per country. 

PHOTO of TCU

I devised a large scale attack on this column to break it down into strings, then populate those strings into a dictionary for each band. From there, each small dictionary would be attached to its appropriate band. While this sounds like a simple plan, the execution proved to be much more challenging. I wrote a monsterous regex formula to parse out the individual pieces, then needed 3 nested functions to make this data format happen. At the end of the day, the dictionaries were seamlessly integrated into the large Pandas dataframe, making the dataframe grow from 89x6Â to 89x29.
